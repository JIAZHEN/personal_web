!!!
%html
  %head
    %title= full_title(yield(:title))
    = stylesheet_link_tag "application", media: "all", "data-turbolinks-track" => true
    = javascript_include_tag "application"
    = csrf_meta_tags
    = favicon_link_tag
    = render 'layouts/shim'

  %body
    #mainContainer.container
      %section#Welcome.sec.pull-center
        %h1 Welcome
      %section#Features.sec.pull-center
        %h1 Features
      %section#Fame.sec.pull-center
        %h1 Fame
      %section#Fortune.sec.pull-center
        %h1 Fortune
      %section#About.sec.pull-center
        %h1 About

    #dotNav.pull-right{"data-spy" => "affix"}
      %ul
        %li.awesome-tooltip.active{:title => "Welcome"}
          %a{:href => "#Welcome"}
        %li.awesome-tooltip{:title => "Features"}
          %a{:href => "#Features"}
        %li.awesome-tooltip{:title => "Fame"}
          %a{:href => "#Fame"}
        %li.awesome-tooltip{:title => "Fortune"}
          %a{:href => "#Fortune"}
        %li.awesome-tooltip{:title => "About"}
          %a{:href => "#About"}

    :javascript
      $(document).ready(function(){
        $('.awesome-tooltip').tooltip({
          placement: 'left'
        });

        $(window).bind('scroll',function(e){
          redrawDotNav();
        });

        function redrawDotNav(){

          var topNavHeight = 50;
          var numDivs = $('section').length;

          $('#dotNav li a').removeClass('active').parent('li').removeClass('active');
          $('section').each(function(i,item){
            var ele = $(item), nextTop;

            if (typeof ele.next().offset() != "undefined") {
              nextTop = ele.next().offset().top;
            } else {
              nextTop = $(document).height();
            }

            if (ele.offset() !== null) {
              thisTop = ele.offset().top - ((nextTop - ele.offset().top) / numDivs);
            } else {
              thisTop = 0;
            }

            var docTop = $(document).scrollTop()+topNavHeight;

            if(docTop >= thisTop && (docTop < nextTop)){
              $('#dotNav li').eq(i).addClass('active');
            }
          });
        }

        $('#dotNav li').click(function(){
          var id = $(this).find('a').attr("href"),
          posi,
          ele,
          padding = $('.navbar-fixed-top').height();

          ele = $(id);
          posi = ($(ele).offset()||0).top - padding;

          $('html, body').animate({scrollTop:posi}, 'slow');

          return false;
        });

      });
